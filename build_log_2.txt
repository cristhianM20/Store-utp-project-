#1 [internal] load local bake definitions
#1 reading from stdin 1.67kB done
#1 DONE 0.0s

#2 [backend internal] load build definition from Dockerfile
#2 transferring dockerfile: 395B done
#2 DONE 0.0s

#3 [frontend internal] load build definition from Dockerfile
#3 transferring dockerfile: 1.50kB done
#3 DONE 0.1s

#4 [ai-service internal] load build definition from Dockerfile
#4 transferring dockerfile: 394B done
#4 DONE 0.1s

#5 [frontend internal] load metadata for docker.io/library/node:22-alpine
#5 ...

#6 [backend internal] load metadata for docker.io/library/eclipse-temurin:21-jre-alpine
#6 DONE 0.5s

#7 [ai-service internal] load metadata for docker.io/library/python:3.11-slim
#7 DONE 0.5s

#8 [backend internal] load metadata for docker.io/library/maven:3.9.9-eclipse-temurin-21-alpine
#8 DONE 0.5s

#9 [ai-service internal] load .dockerignore
#9 transferring context: 2B done
#9 DONE 0.0s

#10 [ai-service 1/6] FROM docker.io/library/python:3.11-slim@sha256:193fdd0bbcb3d2ae612bd6cc3548d2f7c78d65b549fcaa8af75624c47474444d
#10 DONE 0.0s

#5 [frontend internal] load metadata for docker.io/library/node:22-alpine
#5 DONE 0.5s

#11 [backend internal] load .dockerignore
#11 transferring context: 2B done
#11 DONE 0.0s

#12 [ai-service internal] load build context
#12 transferring context: 272B done
#12 DONE 0.0s

#13 [frontend internal] load .dockerignore
#13 transferring context: 155B done
#13 DONE 0.0s

#14 [backend stage-1 1/3] FROM docker.io/library/eclipse-temurin:21-jre-alpine@sha256:326837fba06a8ff5482a17bafbd65319e64a6e997febb7c85ebe7e3f73c12b11
#14 DONE 0.0s

#15 [backend build 1/6] FROM docker.io/library/maven:3.9.9-eclipse-temurin-21-alpine@sha256:5a8b906c4faa11d33f6c74758f67db8eac25441e14b0729f6d50ff78992be58a
#15 DONE 0.0s

#16 [ai-service 2/6] WORKDIR /app
#16 CACHED

#17 [ai-service 3/6] COPY requirements.txt .
#17 CACHED

#18 [frontend base 1/1] FROM docker.io/library/node:22-alpine@sha256:b2358485e3e33bc3a33114d2b1bdb18cdbe4df01bd2b257198eb51beb1f026c5
#18 DONE 0.0s

#19 [backend internal] load build context
#19 transferring context: 4.65kB done
#19 DONE 0.0s

#20 [frontend internal] load build context
#20 transferring context: 4.03kB done
#20 DONE 0.1s

#21 [backend build 2/6] WORKDIR /app
#21 CACHED

#22 [backend build 3/6] COPY pom.xml .
#22 CACHED

#23 [backend build 4/6] RUN mvn dependency:go-offline
#23 CACHED

#24 [backend stage-1 2/3] WORKDIR /app
#24 CACHED

#25 [backend build 5/6] COPY src ./src
#25 CACHED

#26 [backend build 6/6] RUN mvn package -DskipTests
#26 CACHED

#27 [backend stage-1 3/3] COPY --from=build /app/target/*.jar app.jar
#27 CACHED

#28 [frontend deps 1/3] WORKDIR /app
#28 CACHED

#29 [frontend deps 3/3] RUN npm ci
#29 CACHED

#30 [frontend builder 2/4] COPY --from=deps /app/node_modules ./node_modules
#30 CACHED

#31 [frontend deps 2/3] COPY package.json package-lock.json* ./
#31 CACHED

#32 [frontend builder 3/4] COPY . .
#32 CACHED

#33 [backend] exporting to image
#33 exporting layers done
#33 writing image sha256:c18e12a4cb532f526f6457ca8a8dcbac81f7b3247a41508b53ed0d6c0f5648b9 done
#33 naming to docker.io/library/ecommerceai-pro-backend done
#33 DONE 0.0s

#34 [frontend builder 4/4] RUN npm run build
#34 ...

#35 [backend] resolving provenance for metadata file
#35 DONE 0.0s

#36 [ai-service 4/6] RUN apt-get update && apt-get install -y libgl1 libglib2.0-0 && rm -rf /var/lib/apt/lists/*
#36 0.790 Hit:1 http://deb.debian.org/debian trixie InRelease
#36 0.790 Get:2 http://deb.debian.org/debian trixie-updates InRelease [47.3 kB]
#36 0.796 Get:3 http://deb.debian.org/debian-security trixie-security InRelease [43.4 kB]
#36 0.836 Get:4 http://deb.debian.org/debian trixie/main amd64 Packages [9670 kB]
#36 1.757 Get:5 http://deb.debian.org/debian trixie-updates/main amd64 Packages [5412 B]
#36 1.757 Get:6 http://deb.debian.org/debian-security trixie-security/main amd64 Packages [80.7 kB]
#36 2.420 Fetched 9847 kB in 2s (5283 kB/s)
#36 2.420 Reading package lists...
#36 3.186 Reading package lists...
#36 4.157 Building dependency tree...
#36 4.378 Reading state information...
#36 4.819 The following additional packages will be installed:
#36 4.819   libatomic1 libdrm-amdgpu1 libdrm-common libdrm-intel1 libdrm2 libedit2
#36 4.820   libelf1t64 libexpat1 libgbm1 libgl1-mesa-dri libglib2.0-data libglvnd0
#36 4.822   libglx-mesa0 libglx0 libllvm19 libpciaccess0 libsensors-config libsensors5
#36 4.822   libvulkan1 libwayland-client0 libwayland-server0 libx11-6 libx11-data
#36 4.822   libx11-xcb1 libxau6 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-randr0
#36 4.822   libxcb-shm0 libxcb-sync1 libxcb-xfixes0 libxcb1 libxdmcp6 libxext6 libxml2
#36 4.823   libxshmfence1 libxxf86vm1 libz3-4 mesa-libgallium mesa-vulkan-drivers
#36 4.823   shared-mime-info xdg-user-dirs
#36 4.827 Suggested packages:
#36 4.827   low-memory-monitor pciutils lm-sensors
#36 5.163 The following NEW packages will be installed:
#36 5.164   libatomic1 libdrm-amdgpu1 libdrm-common libdrm-intel1 libdrm2 libedit2
#36 5.164   libelf1t64 libexpat1 libgbm1 libgl1 libgl1-mesa-dri libglib2.0-0t64
#36 5.166   libglib2.0-data libglvnd0 libglx-mesa0 libglx0 libllvm19 libpciaccess0
#36 5.166   libsensors-config libsensors5 libvulkan1 libwayland-client0
#36 5.166   libwayland-server0 libx11-6 libx11-data libx11-xcb1 libxau6 libxcb-dri3-0
#36 5.166   libxcb-glx0 libxcb-present0 libxcb-randr0 libxcb-shm0 libxcb-sync1
#36 5.166   libxcb-xfixes0 libxcb1 libxdmcp6 libxext6 libxml2 libxshmfence1 libxxf86vm1
#36 5.167   libz3-4 mesa-libgallium mesa-vulkan-drivers shared-mime-info xdg-user-dirs
#36 5.245 0 upgraded, 45 newly installed, 0 to remove and 0 not upgraded.
#36 5.245 Need to get 66.4 MB of archives.
#36 5.245 After this operation, 317 MB of additional disk space will be used.
#36 5.245 Get:1 http://deb.debian.org/debian trixie/main amd64 libexpat1 amd64 2.7.1-2 [108 kB]
#36 5.281 Get:2 http://deb.debian.org/debian trixie/main amd64 libatomic1 amd64 14.2.0-19 [9308 B]
#36 5.282 Get:3 http://deb.debian.org/debian trixie/main amd64 libdrm-common all 2.4.124-2 [8288 B]
#36 5.283 Get:4 http://deb.debian.org/debian trixie/main amd64 libdrm2 amd64 2.4.124-2 [39.0 kB]
#36 5.301 Get:5 http://deb.debian.org/debian trixie/main amd64 libdrm-amdgpu1 amd64 2.4.124-2 [22.6 kB]
#36 5.304 Get:6 http://deb.debian.org/debian trixie/main amd64 libpciaccess0 amd64 0.17-3+b3 [51.9 kB]
#36 5.309 Get:7 http://deb.debian.org/debian trixie/main amd64 libdrm-intel1 amd64 2.4.124-2 [64.1 kB]
#36 5.318 Get:8 http://deb.debian.org/debian trixie/main amd64 libedit2 amd64 3.1-20250104-1 [93.8 kB]
#36 5.342 Get:9 http://deb.debian.org/debian trixie/main amd64 libelf1t64 amd64 0.192-4 [189 kB]
#36 5.361 Get:10 http://deb.debian.org/debian trixie/main amd64 libwayland-server0 amd64 1.23.1-3 [34.4 kB]
#36 5.364 Get:11 http://deb.debian.org/debian trixie/main amd64 libxml2 amd64 2.12.7+dfsg+really2.9.14-2.1+deb13u2 [698 kB]
#36 5.426 Get:12 http://deb.debian.org/debian trixie/main amd64 libz3-4 amd64 4.13.3-1 [8560 kB]
#36 6.225 Get:13 http://deb.debian.org/debian trixie/main amd64 libllvm19 amd64 1:19.1.7-3+b1 [26.0 MB]
#36 8.826 Get:14 http://deb.debian.org/debian trixie/main amd64 libsensors-config all 1:3.6.2-2 [16.2 kB]
#36 8.830 Get:15 http://deb.debian.org/debian trixie/main amd64 libsensors5 amd64 1:3.6.2-2 [37.5 kB]
#36 8.831 Get:16 http://deb.debian.org/debian trixie/main amd64 libxau6 amd64 1:1.0.11-1 [20.4 kB]
#36 8.831 Get:17 http://deb.debian.org/debian trixie/main amd64 libxdmcp6 amd64 1:1.1.5-1 [27.8 kB]
#36 8.831 Get:18 http://deb.debian.org/debian trixie/main amd64 libxcb1 amd64 1.17.0-2+b1 [144 kB]
#36 8.832 Get:19 http://deb.debian.org/debian trixie/main amd64 libx11-data all 2:1.8.12-1 [343 kB]
#36 8.834 Get:20 http://deb.debian.org/debian trixie/main amd64 libx11-6 amd64 2:1.8.12-1 [815 kB]
#36 9.127 Get:21 http://deb.debian.org/debian trixie/main amd64 libx11-xcb1 amd64 2:1.8.12-1 [247 kB]
#36 9.185 Get:22 http://deb.debian.org/debian trixie/main amd64 libxcb-dri3-0 amd64 1.17.0-2+b1 [107 kB]
#36 9.213 Get:23 http://deb.debian.org/debian trixie/main amd64 libxcb-present0 amd64 1.17.0-2+b1 [106 kB]
#36 9.235 Get:24 http://deb.debian.org/debian trixie/main amd64 libxcb-randr0 amd64 1.17.0-2+b1 [117 kB]
#36 9.252 Get:25 http://deb.debian.org/debian trixie/main amd64 libxcb-sync1 amd64 1.17.0-2+b1 [109 kB]
#36 9.269 Get:26 http://deb.debian.org/debian trixie/main amd64 libxcb-xfixes0 amd64 1.17.0-2+b1 [109 kB]
#36 9.286 Get:27 http://deb.debian.org/debian trixie/main amd64 libxshmfence1 amd64 1.3.3-1 [10.9 kB]
#36 9.316 Get:28 http://deb.debian.org/debian trixie/main amd64 mesa-libgallium amd64 25.0.7-2 [9629 kB]
#36 10.42 Get:29 http://deb.debian.org/debian trixie/main amd64 libgbm1 amd64 25.0.7-2 [44.4 kB]
#36 10.42 Get:30 http://deb.debian.org/debian trixie/main amd64 libglvnd0 amd64 1.7.0-1+b2 [52.0 kB]
#36 10.42 Get:31 http://deb.debian.org/debian trixie/main amd64 libxcb-glx0 amd64 1.17.0-2+b1 [122 kB]
#36 10.44 Get:32 http://deb.debian.org/debian trixie/main amd64 libxcb-shm0 amd64 1.17.0-2+b1 [105 kB]
#36 10.45 Get:33 http://deb.debian.org/debian trixie/main amd64 libxext6 amd64 2:1.3.4-1+b3 [50.4 kB]
#36 10.45 Get:34 http://deb.debian.org/debian trixie/main amd64 libxxf86vm1 amd64 1:1.1.4-1+b4 [19.3 kB]
#36 10.47 Get:35 http://deb.debian.org/debian trixie/main amd64 libvulkan1 amd64 1.4.309.0-1 [130 kB]
#36 10.48 Get:36 http://deb.debian.org/debian trixie/main amd64 libgl1-mesa-dri amd64 25.0.7-2 [46.1 kB]
#36 10.50 Get:37 http://deb.debian.org/debian trixie/main amd64 libglx-mesa0 amd64 25.0.7-2 [143 kB]
#36 10.52 Get:38 http://deb.debian.org/debian trixie/main amd64 libglx0 amd64 1.7.0-1+b2 [34.9 kB]
#36 10.52 Get:39 http://deb.debian.org/debian trixie/main amd64 libgl1 amd64 1.7.0-1+b2 [89.5 kB]
#36 10.54 Get:40 http://deb.debian.org/debian trixie/main amd64 libglib2.0-0t64 amd64 2.84.4-3~deb13u1 [1519 kB]
#36 10.71 Get:41 http://deb.debian.org/debian trixie/main amd64 libglib2.0-data all 2.84.4-3~deb13u1 [1286 kB]
#36 10.87 Get:42 http://deb.debian.org/debian trixie/main amd64 libwayland-client0 amd64 1.23.1-3 [26.8 kB]
#36 10.89 Get:43 http://deb.debian.org/debian trixie/main amd64 mesa-vulkan-drivers amd64 25.0.7-2 [14.2 MB]
#36 ...

#34 [frontend builder 4/4] RUN npm run build
#34 0.927 
#34 0.927 > frontend@0.1.0 build
#34 0.927 > next build
#34 0.927 
#34 1.871    â–² Next.js 16.0.6 (Turbopack)
#34 1.872 
#34 1.900    Creating an optimized production build ...
#34 ...

#36 [ai-service 4/6] RUN apt-get update && apt-get install -y libgl1 libglib2.0-0 && rm -rf /var/lib/apt/lists/*
#36 12.26 Get:44 http://deb.debian.org/debian trixie/main amd64 shared-mime-info amd64 2.4-5+b2 [760 kB]
#36 12.36 Get:45 http://deb.debian.org/debian trixie/main amd64 xdg-user-dirs amd64 0.18-2 [53.2 kB]
#36 12.58 debconf: unable to initialize frontend: Dialog
#36 12.58 debconf: (TERM is not set, so the dialog frontend is not usable.)
#36 12.58 debconf: falling back to frontend: Readline
#36 12.58 debconf: unable to initialize frontend: Readline
#36 12.58 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8, <STDIN> line 45.)
#36 12.58 debconf: falling back to frontend: Teletype
#36 12.59 debconf: unable to initialize frontend: Teletype
#36 12.59 debconf: (This frontend requires a controlling tty.)
#36 12.59 debconf: falling back to frontend: Noninteractive
#36 14.47 Fetched 66.4 MB in 7s (9264 kB/s)
#36 14.51 Selecting previously unselected package libexpat1:amd64.
#36 14.51 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5644 files and directories currently installed.)
#36 14.52 Preparing to unpack .../00-libexpat1_2.7.1-2_amd64.deb ...
#36 14.65 Unpacking libexpat1:amd64 (2.7.1-2) ...
#36 14.69 Selecting previously unselected package libatomic1:amd64.
#36 14.69 Preparing to unpack .../01-libatomic1_14.2.0-19_amd64.deb ...
#36 14.70 Unpacking libatomic1:amd64 (14.2.0-19) ...
#36 14.71 Selecting previously unselected package libdrm-common.
#36 14.72 Preparing to unpack .../02-libdrm-common_2.4.124-2_all.deb ...
#36 14.72 Unpacking libdrm-common (2.4.124-2) ...
#36 14.74 Selecting previously unselected package libdrm2:amd64.
#36 14.74 Preparing to unpack .../03-libdrm2_2.4.124-2_amd64.deb ...
#36 14.75 Unpacking libdrm2:amd64 (2.4.124-2) ...
#36 14.78 Selecting previously unselected package libdrm-amdgpu1:amd64.
#36 14.78 Preparing to unpack .../04-libdrm-amdgpu1_2.4.124-2_amd64.deb ...
#36 14.79 Unpacking libdrm-amdgpu1:amd64 (2.4.124-2) ...
#36 14.81 Selecting previously unselected package libpciaccess0:amd64.
#36 14.82 Preparing to unpack .../05-libpciaccess0_0.17-3+b3_amd64.deb ...
#36 14.82 Unpacking libpciaccess0:amd64 (0.17-3+b3) ...
#36 14.85 Selecting previously unselected package libdrm-intel1:amd64.
#36 14.85 Preparing to unpack .../06-libdrm-intel1_2.4.124-2_amd64.deb ...
#36 14.85 Unpacking libdrm-intel1:amd64 (2.4.124-2) ...
#36 14.88 Selecting previously unselected package libedit2:amd64.
#36 14.88 Preparing to unpack .../07-libedit2_3.1-20250104-1_amd64.deb ...
#36 14.88 Unpacking libedit2:amd64 (3.1-20250104-1) ...
#36 14.91 Selecting previously unselected package libelf1t64:amd64.
#36 14.92 Preparing to unpack .../08-libelf1t64_0.192-4_amd64.deb ...
#36 14.92 Unpacking libelf1t64:amd64 (0.192-4) ...
#36 14.95 Selecting previously unselected package libwayland-server0:amd64.
#36 14.95 Preparing to unpack .../09-libwayland-server0_1.23.1-3_amd64.deb ...
#36 14.96 Unpacking libwayland-server0:amd64 (1.23.1-3) ...
#36 14.99 Selecting previously unselected package libxml2:amd64.
#36 14.99 Preparing to unpack .../10-libxml2_2.12.7+dfsg+really2.9.14-2.1+deb13u2_amd64.deb ...
#36 14.99 Unpacking libxml2:amd64 (2.12.7+dfsg+really2.9.14-2.1+deb13u2) ...
#36 15.04 Selecting previously unselected package libz3-4:amd64.
#36 15.04 Preparing to unpack .../11-libz3-4_4.13.3-1_amd64.deb ...
#36 15.04 Unpacking libz3-4:amd64 (4.13.3-1) ...
#36 15.36 Selecting previously unselected package libllvm19:amd64.
#36 15.36 Preparing to unpack .../12-libllvm19_1%3a19.1.7-3+b1_amd64.deb ...
#36 15.36 Unpacking libllvm19:amd64 (1:19.1.7-3+b1) ...
#36 15.92 Selecting previously unselected package libsensors-config.
#36 15.92 Preparing to unpack .../13-libsensors-config_1%3a3.6.2-2_all.deb ...
#36 15.93 Unpacking libsensors-config (1:3.6.2-2) ...
#36 15.96 Selecting previously unselected package libsensors5:amd64.
#36 15.96 Preparing to unpack .../14-libsensors5_1%3a3.6.2-2_amd64.deb ...
#36 15.96 Unpacking libsensors5:amd64 (1:3.6.2-2) ...
#36 15.99 Selecting previously unselected package libxau6:amd64.
#36 15.99 Preparing to unpack .../15-libxau6_1%3a1.0.11-1_amd64.deb ...
#36 15.99 Unpacking libxau6:amd64 (1:1.0.11-1) ...
#36 16.02 Selecting previously unselected package libxdmcp6:amd64.
#36 16.02 Preparing to unpack .../16-libxdmcp6_1%3a1.1.5-1_amd64.deb ...
#36 16.02 Unpacking libxdmcp6:amd64 (1:1.1.5-1) ...
#36 16.05 Selecting previously unselected package libxcb1:amd64.
#36 16.05 Preparing to unpack .../17-libxcb1_1.17.0-2+b1_amd64.deb ...
#36 16.06 Unpacking libxcb1:amd64 (1.17.0-2+b1) ...
#36 16.08 Selecting previously unselected package libx11-data.
#36 16.08 Preparing to unpack .../18-libx11-data_2%3a1.8.12-1_all.deb ...
#36 16.08 Unpacking libx11-data (2:1.8.12-1) ...
#36 16.14 Selecting previously unselected package libx11-6:amd64.
#36 16.14 Preparing to unpack .../19-libx11-6_2%3a1.8.12-1_amd64.deb ...
#36 16.14 Unpacking libx11-6:amd64 (2:1.8.12-1) ...
#36 16.19 Selecting previously unselected package libx11-xcb1:amd64.
#36 16.19 Preparing to unpack .../20-libx11-xcb1_2%3a1.8.12-1_amd64.deb ...
#36 16.20 Unpacking libx11-xcb1:amd64 (2:1.8.12-1) ...
#36 16.23 Selecting previously unselected package libxcb-dri3-0:amd64.
#36 16.23 Preparing to unpack .../21-libxcb-dri3-0_1.17.0-2+b1_amd64.deb ...
#36 16.23 Unpacking libxcb-dri3-0:amd64 (1.17.0-2+b1) ...
#36 16.26 Selecting previously unselected package libxcb-present0:amd64.
#36 16.26 Preparing to unpack .../22-libxcb-present0_1.17.0-2+b1_amd64.deb ...
#36 16.26 Unpacking libxcb-present0:amd64 (1.17.0-2+b1) ...
#36 16.29 Selecting previously unselected package libxcb-randr0:amd64.
#36 16.30 Preparing to unpack .../23-libxcb-randr0_1.17.0-2+b1_amd64.deb ...
#36 16.30 Unpacking libxcb-randr0:amd64 (1.17.0-2+b1) ...
#36 16.33 Selecting previously unselected package libxcb-sync1:amd64.
#36 16.33 Preparing to unpack .../24-libxcb-sync1_1.17.0-2+b1_amd64.deb ...
#36 16.34 Unpacking libxcb-sync1:amd64 (1.17.0-2+b1) ...
#36 16.37 Selecting previously unselected package libxcb-xfixes0:amd64.
#36 16.37 Preparing to unpack .../25-libxcb-xfixes0_1.17.0-2+b1_amd64.deb ...
#36 16.37 Unpacking libxcb-xfixes0:amd64 (1.17.0-2+b1) ...
#36 16.40 Selecting previously unselected package libxshmfence1:amd64.
#36 16.40 Preparing to unpack .../26-libxshmfence1_1.3.3-1_amd64.deb ...
#36 16.41 Unpacking libxshmfence1:amd64 (1.3.3-1) ...
#36 16.43 Selecting previously unselected package mesa-libgallium:amd64.
#36 16.43 Preparing to unpack .../27-mesa-libgallium_25.0.7-2_amd64.deb ...
#36 16.44 Unpacking mesa-libgallium:amd64 (25.0.7-2) ...
#36 16.80 Selecting previously unselected package libgbm1:amd64.
#36 16.80 Preparing to unpack .../28-libgbm1_25.0.7-2_amd64.deb ...
#36 16.80 Unpacking libgbm1:amd64 (25.0.7-2) ...
#36 16.83 Selecting previously unselected package libglvnd0:amd64.
#36 16.83 Preparing to unpack .../29-libglvnd0_1.7.0-1+b2_amd64.deb ...
#36 16.84 Unpacking libglvnd0:amd64 (1.7.0-1+b2) ...
#36 16.87 Selecting previously unselected package libxcb-glx0:amd64.
#36 16.87 Preparing to unpack .../30-libxcb-glx0_1.17.0-2+b1_amd64.deb ...
#36 16.87 Unpacking libxcb-glx0:amd64 (1.17.0-2+b1) ...
#36 16.90 Selecting previously unselected package libxcb-shm0:amd64.
#36 16.90 Preparing to unpack .../31-libxcb-shm0_1.17.0-2+b1_amd64.deb ...
#36 16.91 Unpacking libxcb-shm0:amd64 (1.17.0-2+b1) ...
#36 16.94 Selecting previously unselected package libxext6:amd64.
#36 16.94 Preparing to unpack .../32-libxext6_2%3a1.3.4-1+b3_amd64.deb ...
#36 16.94 Unpacking libxext6:amd64 (2:1.3.4-1+b3) ...
#36 16.97 Selecting previously unselected package libxxf86vm1:amd64.
#36 16.97 Preparing to unpack .../33-libxxf86vm1_1%3a1.1.4-1+b4_amd64.deb ...
#36 16.97 Unpacking libxxf86vm1:amd64 (1:1.1.4-1+b4) ...
#36 17.00 Selecting previously unselected package libvulkan1:amd64.
#36 17.00 Preparing to unpack .../34-libvulkan1_1.4.309.0-1_amd64.deb ...
#36 17.00 Unpacking libvulkan1:amd64 (1.4.309.0-1) ...
#36 17.04 Selecting previously unselected package libgl1-mesa-dri:amd64.
#36 17.04 Preparing to unpack .../35-libgl1-mesa-dri_25.0.7-2_amd64.deb ...
#36 17.05 Unpacking libgl1-mesa-dri:amd64 (25.0.7-2) ...
#36 17.31 Selecting previously unselected package libglx-mesa0:amd64.
#36 17.31 Preparing to unpack .../36-libglx-mesa0_25.0.7-2_amd64.deb ...
#36 17.32 Unpacking libglx-mesa0:amd64 (25.0.7-2) ...
#36 17.35 Selecting previously unselected package libglx0:amd64.
#36 17.35 Preparing to unpack .../37-libglx0_1.7.0-1+b2_amd64.deb ...
#36 17.35 Unpacking libglx0:amd64 (1.7.0-1+b2) ...
#36 17.38 Selecting previously unselected package libgl1:amd64.
#36 17.39 Preparing to unpack .../38-libgl1_1.7.0-1+b2_amd64.deb ...
#36 17.41 Unpacking libgl1:amd64 (1.7.0-1+b2) ...
#36 17.45 Selecting previously unselected package libglib2.0-0t64:amd64.
#36 17.45 Preparing to unpack .../39-libglib2.0-0t64_2.84.4-3~deb13u1_amd64.deb ...
#36 17.46 Unpacking libglib2.0-0t64:amd64 (2.84.4-3~deb13u1) ...
#36 17.53 Selecting previously unselected package libglib2.0-data.
#36 17.53 Preparing to unpack .../40-libglib2.0-data_2.84.4-3~deb13u1_all.deb ...
#36 17.54 Unpacking libglib2.0-data (2.84.4-3~deb13u1) ...
#36 17.62 Selecting previously unselected package libwayland-client0:amd64.
#36 17.62 Preparing to unpack .../41-libwayland-client0_1.23.1-3_amd64.deb ...
#36 17.63 Unpacking libwayland-client0:amd64 (1.23.1-3) ...
#36 17.66 Selecting previously unselected package mesa-vulkan-drivers:amd64.
#36 17.66 Preparing to unpack .../42-mesa-vulkan-drivers_25.0.7-2_amd64.deb ...
#36 17.66 Unpacking mesa-vulkan-drivers:amd64 (25.0.7-2) ...
#36 17.98 Selecting previously unselected package shared-mime-info.
#36 17.99 Preparing to unpack .../43-shared-mime-info_2.4-5+b2_amd64.deb ...
#36 17.99 Unpacking shared-mime-info (2.4-5+b2) ...
#36 18.05 Selecting previously unselected package xdg-user-dirs.
#36 18.06 Preparing to unpack .../44-xdg-user-dirs_0.18-2_amd64.deb ...
#36 18.07 Unpacking xdg-user-dirs (0.18-2) ...
#36 18.10 Setting up libexpat1:amd64 (2.7.1-2) ...
#36 18.11 Setting up libwayland-server0:amd64 (1.23.1-3) ...
#36 18.13 Setting up libpciaccess0:amd64 (0.17-3+b3) ...
#36 18.14 Setting up libxau6:amd64 (1:1.0.11-1) ...
#36 18.14 Setting up libxdmcp6:amd64 (1:1.1.5-1) ...
#36 18.15 Setting up libxcb1:amd64 (1.17.0-2+b1) ...
#36 18.16 Setting up libxcb-xfixes0:amd64 (1.17.0-2+b1) ...
#36 18.17 Setting up xdg-user-dirs (0.18-2) ...
#36 18.19 Setting up libglvnd0:amd64 (1.7.0-1+b2) ...
#36 18.20 Setting up libxcb-glx0:amd64 (1.17.0-2+b1) ...
#36 18.21 Setting up libedit2:amd64 (3.1-20250104-1) ...
#36 18.22 Setting up libsensors-config (1:3.6.2-2) ...
#36 18.23 Setting up libxcb-shm0:amd64 (1.17.0-2+b1) ...
#36 18.24 Setting up libelf1t64:amd64 (0.192-4) ...
#36 18.25 Setting up libxcb-present0:amd64 (1.17.0-2+b1) ...
#36 18.26 Setting up libz3-4:amd64 (4.13.3-1) ...
#36 18.27 Setting up libglib2.0-data (2.84.4-3~deb13u1) ...
#36 18.27 Setting up libx11-data (2:1.8.12-1) ...
#36 18.28 Setting up libxcb-sync1:amd64 (1.17.0-2+b1) ...
#36 18.29 Setting up libatomic1:amd64 (14.2.0-19) ...
#36 18.30 Setting up libsensors5:amd64 (1:3.6.2-2) ...
#36 18.31 Setting up libvulkan1:amd64 (1.4.309.0-1) ...
#36 18.32 Setting up libxshmfence1:amd64 (1.3.3-1) ...
#36 18.33 Setting up libxcb-randr0:amd64 (1.17.0-2+b1) ...
#36 18.34 Setting up libx11-6:amd64 (2:1.8.12-1) ...
#36 18.35 Setting up libdrm-common (2.4.124-2) ...
#36 18.36 Setting up libxml2:amd64 (2.12.7+dfsg+really2.9.14-2.1+deb13u2) ...
#36 18.37 Setting up libwayland-client0:amd64 (1.23.1-3) ...
#36 18.38 Setting up libxcb-dri3-0:amd64 (1.17.0-2+b1) ...
#36 18.39 Setting up libllvm19:amd64 (1:19.1.7-3+b1) ...
#36 18.40 Setting up libx11-xcb1:amd64 (2:1.8.12-1) ...
#36 18.40 Setting up libxext6:amd64 (2:1.3.4-1+b3) ...
#36 18.41 Setting up libxxf86vm1:amd64 (1:1.1.4-1+b4) ...
#36 18.42 Setting up libglib2.0-0t64:amd64 (2.84.4-3~deb13u1) ...
#36 18.43 No schema files found: doing nothing.
#36 18.44 Setting up shared-mime-info (2.4-5+b2) ...
#36 ...

#34 [frontend builder 4/4] RUN npm run build
#34 19.17 Turbopack build encountered 2 warnings:
#34 19.17 [next]/internal/font/google/geist_a71539c9.module.css
#34 19.17 Error while requesting resource
#34 19.17 There was an issue establishing a connection while requesting https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap
#34 19.17 
#34 19.17 Import trace:
#34 19.17   Server Component:
#34 19.17     [next]/internal/font/google/geist_a71539c9.module.css
#34 19.17     [next]/internal/font/google/geist_a71539c9.js
#34 19.17     ./src/app/layout.tsx
#34 19.17 
#34 19.17 
#34 19.17 [next]/internal/font/google/geist_mono_8d43a2aa.module.css
#34 19.17 Error while requesting resource
#34 19.17 There was an issue establishing a connection while requesting https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&display=swap
#34 19.17 
#34 19.17 Import trace:
#34 19.17   Server Component:
#34 19.17     [next]/internal/font/google/geist_mono_8d43a2aa.module.css
#34 19.17     [next]/internal/font/google/geist_mono_8d43a2aa.js
#34 19.17     ./src/app/layout.tsx
#34 19.17 
#34 19.17 
#34 19.36 
#34 19.36 > Build error occurred
#34 19.36 Error: Turbopack build failed with 3 errors:
#34 19.36 ./src/lib/auth.ts:110:4
#34 19.36 Parsing ecmascript source code failed
#34 19.36 [0m [90m 108 |[39m     [36mreturn[39m getToken() [33m!==[39m [36mnull[39m[33m;[39m
#34 19.36  [90m 109 |[39m }
#34 19.36 [31m[1m>[22m[39m[90m 110 |[39m cd flutter_app
#34 19.36  [90m     |[39m    [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m
#34 19.36  [90m 111 |[39m flutter pub [36mget[39m[0m
#34 19.36 
#34 19.36 Expected ';', '}' or <eof>
#34 19.36 
#34 19.36 Import traces:
#34 19.36   Client Component Browser:
#34 19.36     ./src/lib/auth.ts [Client Component Browser]
#34 19.36     ./src/app/cart/page.tsx [Client Component Browser]
#34 19.36     ./src/app/cart/page.tsx [Server Component]
#34 19.36 
#34 19.36   Client Component SSR:
#34 19.36     ./src/lib/auth.ts [Client Component SSR]
#34 19.36     ./src/app/cart/page.tsx [Client Component SSR]
#34 19.36     ./src/app/cart/page.tsx [Server Component]
#34 19.36 
#34 19.36 
#34 19.36 [next]/internal/font/google/geist_a71539c9.module.css
#34 19.36 next/font: error:
#34 19.36 Failed to fetch `Geist` from Google Fonts.
#34 19.36 
#34 19.36 Import trace:
#34 19.36   Server Component:
#34 19.36     [next]/internal/font/google/geist_a71539c9.module.css
#34 19.36     [next]/internal/font/google/geist_a71539c9.js
#34 19.36     ./src/app/layout.tsx
#34 19.36 
#34 19.36 
#34 19.36 [next]/internal/font/google/geist_mono_8d43a2aa.module.css
#34 19.36 next/font: error:
#34 19.36 Failed to fetch `Geist Mono` from Google Fonts.
#34 19.36 
#34 19.36 Import trace:
#34 19.36   Server Component:
#34 19.36     [next]/internal/font/google/geist_mono_8d43a2aa.module.css
#34 19.36     [next]/internal/font/google/geist_mono_8d43a2aa.js
#34 19.36     ./src/app/layout.tsx
#34 19.36 
#34 19.36 
#34 19.36     at <unknown> (./src/lib/auth.ts:110:4)
#34 19.41 npm notice
#34 19.41 npm notice New major version of npm available! 10.9.4 -> 11.6.4
#34 19.41 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.4
#34 19.41 npm notice To update run: npm install -g npm@11.6.4
#34 19.41 npm notice
#34 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1

#36 [ai-service 4/6] RUN apt-get update && apt-get install -y libgl1 libglib2.0-0 && rm -rf /var/lib/apt/lists/*
#36 CANCELED
------
 > [frontend builder 4/4] RUN npm run build:
19.36     [next]/internal/font/google/geist_mono_8d43a2aa.js
19.36     ./src/app/layout.tsx
19.36 
19.36 
19.36     at <unknown> (./src/lib/auth.ts:110:4)
19.41 npm notice
19.41 npm notice New major version of npm available! 10.9.4 -> 11.6.4
19.41 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.4
19.41 npm notice To update run: npm install -g npm@11.6.4
19.41 npm notice
------
Dockerfile:22

--------------------

  20 |     ENV NEXT_TELEMETRY_DISABLED 1

  21 |     

  22 | >>> RUN npm run build

  23 |     

  24 |     # Production image, copy all the files and run next

--------------------

target frontend: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1

